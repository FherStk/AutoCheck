<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Teacher's guide </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Teacher's guide ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc">
    <meta property="docfx:tocrel" content="toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../tutorials/student.html" title="Tutorials">Tutorials</a>
                      </li>
                      <li>
                          <a href="../api/AutoCheck.Core.html" title="Api Documentation">Api Documentation</a>
                      </li>
                      <li>
                          <a href="https://github.com/FherStk/AutoCheck" title="Download">Download</a>
                      </li>
                      <li>
                          <a href="../credits/credits.html" title="Credits">Credits</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="student.html" title="Student's guide" class="">Student's guide</a>
                    </li>
                    <li class="active">
                      <a href="teacher.html" title="Teacher's guide" class="active">Teacher's guide</a>
                    </li>
                    <li class="">
                      <a href="developer.html" title="Developer's guide" class="">Developer's guide</a>
                    </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="teachers-guide">Teacher's guide</h1>

<h2 id="how-to-create-a-new-script">How to create a new script</h2>
<p>A script is a set of calls to AutoCheck's connectors in order to perform CRUD operations and validate its results, so all the scripts are defined as YAML files and should be as simplier as possible in order to improve readability. Notice that LocalShell will be the implicit connector so each command used over an undefined connector will be directly passed through the local shell and executed into the local computer enviroment.</p>
<p>A set of commands can be executed within a question and, if all the expected values matches with the current ones, the question will score; otherwise, this question wont score and the execution continues in order to execute the rest of the defined script.</p>
<p>Scoring values and also the captions and messages displayed within the terminal output are self-managed by AutoCheck, however some of this data can be manually overriden or modified when needed.</p>
<h2 id="examples">Examples</h2>
<h3 id="runing-a-local-terminal-command">Runing a local terminal command</h3>
<pre><code>name: &quot;Local command example (with no vars)&quot;

single:
    local:
        folder: &quot;\\home\\usuario\\folder\\&quot;

body:        
  - question: 
      description: &quot;Checking for file generation&quot;
      content:                                  

        - run:
            caption:  &quot;Looking for the file... &quot;
            command:  &quot;test -e \\home\\usuario\\folder\\myfile.txt &amp;&amp; echo 1 || echo 0&quot;
            expected: &quot;=1&quot;
                  
        - run:
            caption:  &quot;Looking for file content...&quot;
            command:  &quot;echo {$CURRENT_FOLDER_PATH}\\myfile&quot;                  
            expected: &quot;=%contains this sentence%&quot;

</code></pre>
<h3 id="runing-a-local-terminal-command-using-vars">Runing a local terminal command using vars</h3>
<pre><code>name: &quot;Local command example (with vars)&quot;

single:
    local:
        folder: &quot;\\home\\usuario\\folder\\&quot;

vars:
    my_file: &quot;myfile.txt&quot;

body:        
  - question: 
      description: &quot;Checking for file generation&quot;
      content:                                  

        - run:
            caption:  &quot;Looking for the file... &quot;
            command:  &quot;test -e {$CURRENT_FOLDER_PATH}\\{$MY_FILE} &amp;&amp; echo 1 || echo 0&quot;
            expected: &quot;=1&quot;
                  
        - run:
            caption:  &quot;Looking for file content...&quot;
            command:  &quot;echo {$CURRENT_FOLDER_PATH}\\{$MY_FILE}&quot;                  
            expected: &quot;=%contains this sentence%&quot;

</code></pre>
<h3 id="running-an-autocheck-connectors-command">Running an AutoCheck connector's command:</h3>
<pre><code>name: &quot;AutoCheck's HTML connector example&quot;
body:
  - connector:            
      type: &quot;Html&quot;        
      arguments: &quot;--folder {$CURRENT_FOLDER_PATH} --file index.html&quot;       
        
  - question: 
      description: &quot;Checking index.html&quot;                                
      content:                            

        - run:
            caption:  &quot;Validating document against the W3C validation service... &quot;
            connector: &quot;Html&quot;
            command:  &quot;ValidateHtml5AgainstW3C&quot;            
            onexception: &quot;SKIP&quot;

        - question:                     
            description: &quot;Validating headers&quot;
            content:                            
              - run:
                  caption:  &quot;Checking amount of level-1 headers... &quot;
                  connector: &quot;Html&quot;
                  command:  &quot;CountNodes&quot;
                  arguments: &quot;--xpath //h1&quot;                  
                  expected: &quot;&gt;=1&quot;

              - run:
                  caption:  &quot;Checking amount of level-2 headers... &quot;
                  connector: &quot;Html&quot;
                  command:  &quot;CountNodes&quot;
                  arguments: &quot;--xpath //h2&quot;                  
                  expected: &quot;&gt;=1&quot;
</code></pre>
<h3 id="running-a-remote-command">Running a remote command:</h3>
<pre><code>name: &quot;Remote command example (with no vars)&quot;
body:   
- connector:            
      type: &quot;Shell&quot;    
      name: &quot;RemoteShell&quot;    
      arguments: &quot;--remoteOS GNU --host 192.168.1.196 --username user --password pwd&quot;    

  - question: 
      description: &quot;Checking for file generation&quot;
      content:                                  

        - run:
            caption:  &quot;Looking for the file... &quot;
            connector: &quot;RemoteShell&quot;
            command:  &quot;test -e \\home\\usuario\\folder\\myfile.txt &amp;&amp; echo 1 || echo 0&quot;
            expected: &quot;=1&quot;
                  
        - run:
            caption:  &quot;Looking for file content...&quot;
            connector: &quot;RemoteShell&quot;
            command:  &quot;echo {$CURRENT_FOLDER_PATH}\\myfile&quot;                  
            expected: &quot;=%contains this sentence%&quot;

</code></pre>
<h2 id="script-nodes-and-hierarchy">Script nodes and hierarchy</h2>
<p>There are different nodes types than can be used within an AutoCheck's YAML script file:</p>
<h3 id="scalar">Scalar</h3>
<p>A scalar node means a primitive value, so no children allowed.</p>
<p>In the following example, <code>type</code> and <code>arguments</code> are scalar nodes:</p>
<pre><code>type: &quot;Html&quot;
arguments: &quot;--folder {$CURRENT_FOLDER_PATH} --file index.html&quot;
</code></pre>
<h3 id="mapping">Mapping</h3>
<p>A mapping node means that children are allowed but those cannot be repeated.</p>
<p>In the following example, <code>vars</code> is a mapping:</p>
<pre><code>vars:     
  student_name: &quot;Fer&quot;
  student_var: &quot;{$STUDENT_NAME}&quot;
  student_replace: &quot;This is a test with value: {$STUDENT_NAME}_{$STUDENT_VAR}!&quot; 
</code></pre>
<h3 id="sequence">Sequence</h3>
<p>A sequence node means that children are allowed and also those can be repeated.</p>
<p>In the following example, <code>body</code> is a sequence because its children uses <code>-</code> before the node name, but each <code>run</code> node is a mapping:</p>
<pre><code>body:     
  - run:
      command: &quot;echo {$STUDENT_NAME}&quot;
      expected: &quot;demo&quot;
  
  - run:
      command: &quot;echo {$STUDENT_REPLACE}&quot;
      expected: &quot;This is a test with value: Demo!&quot;

  - run:
      command: &quot;echo {$TEST_FOLDER}&quot;
      expected: &quot;TEST_FOLDER&quot;

  - run:
      command: &quot;echo {$FOLDER_NAME}&quot;
      expected: &quot;FOLDER&quot;
</code></pre>
<h2 id="script-nodes-definition">Script nodes definition</h2>
<p>The following guide describes the allowed YAML tags within each level:</p>
<h4 id="root">root</h4>
<p>Root-level tags has no parent.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td>text</td>
<td>no</td>
<td>The script version.</td>
<td><code>1.0.0.0</code></td>
</tr>
<tr>
<td>name</td>
<td>text</td>
<td>no</td>
<td>The script name will be displayed at the output.</td>
<td><code>Current file's name</code></td>
</tr>
<tr>
<td>caption</td>
<td>text</td>
<td>no</td>
<td>Message to display at script startup.</td>
<td><code>Running script {$SCRIPT_NAME} (v{$SCRIPT_VERSION}):</code></td>
</tr>
<tr>
<td>max-score</td>
<td>decimal</td>
<td>no</td>
<td>Maximum script score (overall score).</td>
<td><code>10</code></td>
</tr>
<tr>
<td><a href="#log">log</a></td>
<td>mapping</td>
<td>no</td>
<td>Setups the log behaviour.</td>
<td></td>
</tr>
<tr>
<td><a href="#vars">vars</a></td>
<td>mapping</td>
<td>no</td>
<td>Custom global vars can be defined here and refered later as <code>$VARNAME</code>.</td>
<td></td>
</tr>
<tr>
<td><a href="#body">body</a></td>
<td>sequence</td>
<td>no</td>
<td>Script body.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="log"> log</h3>
<p>Setups the log output file-mode behaviour.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>no</td>
<td>When enabled, all log mesages will be stored into external files: a single one for single-executed scripts; individual files for batch-executed scripts.</td>
<td><code>False</code></td>
</tr>
<tr>
<td>format</td>
<td>text</td>
<td>no</td>
<td>Determines the log output format; allowed values are: <ul><li><em>TEXT</em>: plain text file.</li><li><em>JSON</em>: json file.</li></ul></td>
<td><code>&quot;TEXT&quot;</code></td>
</tr>
<tr>
<td>folder</td>
<td>text</td>
<td>no</td>
<td>Path to the folder which will contain the log data.</td>
<td><code>{$APP_FOLDER_PATH}\\logs\\</code></td>
</tr>
<tr>
<td>name</td>
<td>text</td>
<td>no</td>
<td>The name that will be used to store each file, so vars should be used in order to create single files per batch execution (only on batch mode).</td>
<td><code>{$SCRIPT_NAME}_{$NOW}</code></td>
</tr>
</tbody>
</table>
<h3 id="vars"> vars</h3>
<p>Custom global vars can be defined wihtin <code>vars</code> node and refered later as <code>$VARNAME</code>.</p>
<h4 id="predefined-vars">Predefined vars:</h4>
<h5 id="application-data">Application data:</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>APP_FOLDER_NAME</td>
<td>text</td>
<td>The current app's execution folder (just the folder name).</td>
</tr>
<tr>
<td>APP_FOLDER_PATH</td>
<td>text</td>
<td>The current app's execution folder (the entire path).</td>
</tr>
<tr>
<td>APP_CONFIG_NAME</td>
<td>text</td>
<td>The core app's configuration folder (just the folder name).</td>
</tr>
<tr>
<td>APP_CONFIG_PATH</td>
<td>text</td>
<td>The core app's configuration folder (the entire path).</td>
</tr>
<tr>
<td>APP_UTILS_NAME</td>
<td>text</td>
<td>The core app's utils folder (just the folder name).</td>
</tr>
<tr>
<td>APP_UTILS_PATH</td>
<td>text</td>
<td>The core app's utils folder (the entire path).</td>
</tr>
</tbody>
</table>
<h5 id="script-data">Script data:</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SCRIPT_NAME</td>
<td>text</td>
<td>The current script name.</td>
</tr>
<tr>
<td>SCRIPT_FOLDER_NAME</td>
<td>text</td>
<td>The current script's containing folder (just the folder name).</td>
</tr>
<tr>
<td>SCRIPT_FOLDER_PATH</td>
<td>text</td>
<td>The current script's folder (the entire path).</td>
</tr>
<tr>
<td>SCRIPT_FILE_NAME</td>
<td>text</td>
<td>The current script file name.</td>
</tr>
<tr>
<td>SCRIPT_FILE_PATH</td>
<td>text</td>
<td>The current script file path.</td>
</tr>
<tr>
<td>SCRIPT_CAPTION</td>
<td>text</td>
<td>The main script caption.</td>
</tr>
<tr>
<td>SINGLE_CAPTION</td>
<td>text</td>
<td>The single-mode script caption.</td>
</tr>
<tr>
<td>BATCH_CAPTION</td>
<td>text</td>
<td>The batch-mode script caption.</td>
</tr>
<tr>
<td>NOW</td>
<td>datetime</td>
<td>The current datetime in UTC format including the offset like '&quot;2021-03-09T03:30:46.7775027+00:00&quot;'</td>
</tr>
</tbody>
</table>
<h5 id="log-data">Log data:</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LOG_FOLDER_NAME</td>
<td>text</td>
<td>The current log folder (just the folder name).</td>
</tr>
<tr>
<td>LOG_FOLDER_PATH</td>
<td>text</td>
<td>The current log folder (the entire path).</td>
</tr>
<tr>
<td>LOG_FILE_NAME</td>
<td>text</td>
<td>The current log file (the file name).</td>
</tr>
<tr>
<td>LOG_FILE_PATH</td>
<td>text</td>
<td>The current log file (the entire path).</td>
</tr>
</tbody>
</table>
<h5 id="execution-data">Execution data:</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>EXECUTION_FOLDER_NAME</td>
<td>text</td>
<td>The current app's execution folder name.</td>
</tr>
<tr>
<td>EXECUTION_FOLDER_PATH</td>
<td>text</td>
<td>The current app's execution folder path.</td>
</tr>
<tr>
<td>RESULT</td>
<td>text</td>
<td>The result of the last <code>command</code> execution.</td>
</tr>
</tbody>
</table>
<h5 id="question-and-score-data">Question and score data:</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CURRENT_QUESTION</td>
<td>decimal</td>
<td>The current question (and subquestion) number (1, 2, 2.1, etc.)</td>
</tr>
<tr>
<td>CURRENT_SCORE</td>
<td>decimal</td>
<td>The current question (and subquestion) score.</td>
</tr>
<tr>
<td>TOTAL_SCORE</td>
<td>decimal</td>
<td>The computed total score, it will be updated for each question close.</td>
</tr>
<tr>
<td>MAX_SCORE</td>
<td>decimal</td>
<td>The maximum score available.</td>
</tr>
</tbody>
</table>
<h5 id="target-data-local-and-remote">Target data (local and remote):</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CURRENT_TARGET</td>
<td>text</td>
<td>Returns the kind of the current execution: <code>none</code>, <code>local</code> or <code>remote</code>.</td>
</tr>
<tr>
<td>CURRENT_FOLDER_NAME</td>
<td>text</td>
<td>The folder name where the script is targeting right now (local or remote); can change during the execution for batch-typed.</td>
</tr>
<tr>
<td>CURRENT_FOLDER_PATH</td>
<td>text</td>
<td>The folder path where the script is targeting right now (local or remote); can change during the execution for batch-typed.</td>
</tr>
<tr>
<td>CURRENT_FILE_NAME</td>
<td>text</td>
<td>The folder name where the script is targeting right now (local or remote); can change during the execution for batch-typed.</td>
</tr>
<tr>
<td>CURRENT_FILE_PATH</td>
<td>text</td>
<td>The folder path where the script is targeting right now (local or remote); can change during the execution for batch-typed.</td>
</tr>
<tr>
<td>CURRENT_OS</td>
<td>[GNU; WIN; MAC]</td>
<td>The current OS family.</td>
</tr>
<tr>
<td>CURRENT_HOST</td>
<td>text</td>
<td>The host name or IP address for the current execution.</td>
</tr>
<tr>
<td>CURRENT_PORT</td>
<td>number</td>
<td>The port for the current execution.</td>
</tr>
<tr>
<td>CURRENT_USER</td>
<td>text</td>
<td>The username for the current execution.</td>
</tr>
<tr>
<td>CURRENT_PASSWORD</td>
<td>text</td>
<td>The password for the current execution.</td>
</tr>
<tr>
<td>CURRENT_DIR_SEPARATOR</td>
<td>[/; ]</td>
<td>The current OS directory separator char.</td>
</tr>
</tbody>
</table>
<h4 id="custom-example-vars">Custom example vars:</h4>
<p>Vars can be combined within each other by injection, just call the var with <code>$</code> and surround it between brackets <code>{}</code> when definint a text var like in the following examples:</p>
<pre><code>vars:
    var1: &quot;VALUE1&quot;
    var2: &quot;This is a sample text including {$VAR1} and also {$SCRIPT_NAME}&quot;    
    var3: !!bool False
    var4: !!int 1986    
</code></pre>
<h4 id="scopes">Scopes:</h4>
<p>Because <code>vars</code> can be used at different script levels, those vars will be created within its own scope being accessible from lower scopes but being destroyed once the scope is left:</p>
<pre><code>vars:
    var1:  &quot;Value1.1&quot; #Declares a var1 within the current scope or updates the current value.
    $var1: &quot;Value1.2&quot; #Does not declares but updates var1 value on the first predecesor scope where the var has been found.
</code></pre>
<p>When requesting a var value (for example: {$var1}) the scope-nearest one will be retreived, so shadowed vars will be not accessible; it has been designed as is to reduce the scope logic complexity, simple workarounds can be used as store the value locally before shadowing or just use another var name to avoid shadowing.</p>
<h3 id="body"> body</h3>
<p>Script's body where the main action is defined.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#vars">vars</a></td>
<td>mapping</td>
<td>no</td>
<td>Defines vars in the same way and with the same rules as the ones defined within root level, but as local-scope vars; useful to store command results or other stuff.</td>
</tr>
<tr>
<td><a href="#connector">connector</a></td>
<td>mapping</td>
<td>no</td>
<td>Defines a connector to use, it can be defined wherever inside the body (usually inside a question's content).</td>
</tr>
<tr>
<td><a href="#run">run</a></td>
<td>mapping</td>
<td>no</td>
<td>Runs a command, it can be used wherever inside the body (usually inside a question's content).</td>
</tr>
<tr>
<td><a href="#question">question</a></td>
<td>mapping</td>
<td>no</td>
<td>Defines a question to test and score; can be repeated.</td>
</tr>
<tr>
<td>echo</td>
<td>text</td>
<td>no</td>
<td>Displays a message.</td>
</tr>
</tbody>
</table>
<h4 id="vars"> vars</h4>
<p>Defines vars in the same way and with the same rules as the ones defined within root level, but as local-scope vars; useful to store command results or other stuff.</p>
<h4 id="connector"> connector</h4>
<p>Defines a connector to use, it can be defined wherever inside the body (usually inside a question's content).</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>caption</td>
<td>text</td>
<td>no</td>
<td>Message to display before running, when running with no caption means working in silent mode so, if a connector is created within a question, it only computes for a question score when a caption has been displayed because computing hidden results would be confusing when reading a report.</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>text</td>
<td>no</td>
<td>Which connector will be used (see avaliable connectors through API documentation).</td>
<td><code>&quot;LOCAL_SHELL&quot;</code></td>
</tr>
<tr>
<td>name</td>
<td>text</td>
<td>no</td>
<td>Name that will be used by a <code>run</code> node to execute a connector's command.</td>
<td><code>The same as &quot;type&quot; node value.</code></td>
</tr>
<tr>
<td><a href="#arguments">arguments</a></td>
<td>text</td>
<td>no</td>
<td>As terminal app will do (--arg1 val1 --arg2 val2 ... --argN valN).</td>
<td></td>
</tr>
<tr>
<td>success</td>
<td>text</td>
<td>no</td>
<td>If a caption has been defined, this message witll be shown if the executed command result matches with the expected one.</td>
<td><code>&quot;OK&quot;</code></td>
</tr>
<tr>
<td>error</td>
<td>text</td>
<td>no</td>
<td>If a caption has been defined, this message witll be shown if the executed command result mismatches with the expected one; it will be followed by a list of errors found.</td>
<td><code>&quot;ERROR&quot;</code></td>
</tr>
<tr>
<td>onexception</td>
<td>text</td>
<td>no</td>
<td>Determines the behaviour on exception when creating a connector; allowed values are: <ul><li><em>SUCCESS</em>: continues as no error.</li><li><em>ERROR</em>: continues as an error.</li><li><em>ABORT</em>: stops the entire script execution.</li><li><em>SKIP</em>: stops the current question execution but continues with the next one.</li></ul>When within a question, only works when a caption has been defined, because working on silent mode never computes for a question score nor produces any output.</td>
<td><code>&quot;ERROR&quot;</code></td>
</tr>
</tbody>
</table>
<h4 id="run"> run</h4>
<p>Runs a command, it can be used wherever inside the body (usually inside a question's content).</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>caption</td>
<td>text</td>
<td>no</td>
<td>Message to display before running, when running with no caption means working in silent mode so, if run is performed within a question, it only computes for a question score when a caption has been displayed because computing hidden results would be confusing when reading a report.</td>
<td></td>
</tr>
<tr>
<td>connector</td>
<td>text</td>
<td>no</td>
<td>Previously defined connector name, which will be used to run the command. If no connector has been defined within this <code>run</code>, the nearest within the scope will be looked for (and envelopping scopes recursively) and, if no connector is found, a <code>LOCALSHELL</code> one will be used.</td>
<td><code>&quot;LOCALSHELL&quot;</code></td>
</tr>
<tr>
<td>command</td>
<td>text</td>
<td>yes</td>
<td>The command to run, the result will be stored as <code>$RESULT</code>; can be a shell command if no connector has been specified.</td>
<td></td>
</tr>
<tr>
<td><a href="#arguments">arguments</a></td>
<td>text</td>
<td>no</td>
<td>Same as <code>connector</code> ones (also typed arguments list are allowed).</td>
<td></td>
</tr>
<tr>
<td>timeout</td>
<td>number</td>
<td>no</td>
<td>In milliseconds. The execution will be aborted after this time.</td>
<td>0 (no timeout)</td>
</tr>
<tr>
<td>expected</td>
<td>text</td>
<td>no</td>
<td>Expected value from the run command, which can be: <ul><li>Variables (exact match)</li><li>Typed data (exact match): <ul><li><code>True</code></li><li><code>75.7</code></li><li><code>&quot;Example&quot;</code></li></ul></li><li>SQL-like operators over previous data: <ul><li><code>&gt;=75.1</code></li><li><code>starts_with%</code></li><li><code>%substring%</code></li><li><code>%ends_with</code></li><li><code>LIKE %{$CURRENT_FOLDER_NAME}%</code></li></ul></li><li>Arrays opperators: <ul><li><code>LENGTH =x</code></li><li><code>CONTAINS &gt;=x</code></li><li><code>UNORDEREDEQUALS [x,y,z]</code></li><li><code>ORDEREDEQUALS [x,y,z]</code></li></ul><li>Regular expression (match count, any SQL-like operator can be used): <ul><li><code>REGEX &gt;=x &quot;regex&quot;</code></li></ul></li></li></ul> When not defined, all results will compute as a success; when working on silent mode (with no caption), an exception will be thrown on mismatch (onexception wont applicate). <strong>Warning: no AND/OR combinations still supported.</strong></td>
<td></td>
</tr>
<tr>
<td>success</td>
<td>text</td>
<td>no</td>
<td>If a caption has been defined, this message witll be shown if the executed command result matches with the expected one.</td>
<td><code>&quot;OK&quot;</code></td>
</tr>
<tr>
<td>error</td>
<td>text</td>
<td>no</td>
<td>If a caption has been defined, this message witll be shown if the executed command result mismatches with the expected one; it will be followed by a list of errors found.</td>
<td><code>&quot;ERROR&quot;</code></td>
</tr>
<tr>
<td>onexception</td>
<td>text</td>
<td>no</td>
<td>Determines the behaviour when a command execution ends with an exception; allowed values are: <ul><li><em>SUCCESS</em>: continues as no error.</li><li><em>ERROR</em>: continues as an error.</li><li><em>ABORT</em>: stops the entire script execution.</li><li><em>SKIP</em>: stops the current question execution but continues with the next one.</li></ul>When within a question, only works when a caption has been defined, because working on silent mode never computes for a question score nor produces any output.</td>
<td><code>&quot;ERROR&quot;</code></td>
</tr>
<tr>
<td>onerror</td>
<td>text</td>
<td>no</td>
<td>Determines the behaviour when a command execution ends with an error (including onexception=ERROR), which means that the output missmatched with the expected value; allowed values are: <ul><li><em>CONTINUE</em>: continues with the script regular execution.</li><li><em>ABORT</em>: stops the entire script execution.</li><li><em>SKIP</em>: stops the current question execution but continues with the next one.</li></ul>When within a question, only works when a caption has been defined, because working on silent mode never computes for a question score nor produces any output.</td>
<td><code>&quot;CONTINUE&quot;</code></td>
</tr>
<tr>
<td>store</td>
<td>text</td>
<td>no</td>
<td>The value of <code>$RESULT</code> will be stored into a new var within the current scope or an existing one if has already defined (for example: <code>MY_VAR</code>), storing into upper scopes is also allowed by adding the dollar <code>$</code> symbol before the varname (for example: <code>$MY_VAR</code>).</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="question"> question</h4>
<p>Defines a question to test and score; can be repeated.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>score</td>
<td>decimal</td>
<td>no</td>
<td>Question's socre, ignored if subquestions are used (question within question).</td>
<td><code>!!float 1</code></td>
</tr>
<tr>
<td>caption</td>
<td>text</td>
<td>no</td>
<td>Question's caption that will be displayed at the output.</td>
<td><code>&quot;Question {$CURRENT_QUESTION} [{$CURRENT_SCORE}]:&quot;</code></td>
</tr>
<tr>
<td>description</td>
<td>text</td>
<td>no</td>
<td>Question description, it will be displayed after the question caption.</td>
<td></td>
</tr>
<tr>
<td><a href="#content">content</a></td>
<td>sequence</td>
<td>yes</td>
<td>What to test within the question, all must be ok to compute the score; cannot be mandatory due subquestion behaviour; can be repeated.</td>
<td></td>
</tr>
</tbody>
</table>
<h5 id="content"> content</h5>
<p>What to test within the question, all must be ok to compute the score; cannot be mandatory due subquestion behaviour; can be repeated.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#vars">vars</a></td>
<td>mapping</td>
<td>no</td>
<td>Same as <code>vars</code> defined within <code>body</code>, but as local-scope vars; useful to store command results or other stuff.</td>
</tr>
<tr>
<td><a href="#connector">connector</a></td>
<td>mapping</td>
<td>no</td>
<td>A connector can be also defined here; see <code>connector</code> definition within <code>body</code>.</td>
</tr>
<tr>
<td><a href="#question">question</a></td>
<td>mapping</td>
<td>no</td>
<td>A sub-question can also be defined here (parent score will be updated as the summary of its children); see <code>question</code> definition within <code>body</code>.</td>
</tr>
<tr>
<td><a href="#run">run</a></td>
<td>mapping</td>
<td>yes</td>
<td>Same as <code>run</code> defined within <code>body</code>, but all the executed commands within a question's content must succeed (no execution errors and result matching the expected value) in order to compute the entire score.</td>
</tr>
<tr>
<td>echo</td>
<td>text</td>
<td>no</td>
<td>Displays a message.</td>
</tr>
</tbody>
</table>
<h3 id="arguments"> arguments</h3>
<p>Arguments can be defined in different ways and can be requested within the script as <code>$CONNECTOR_NAME.ARGUMENT_NAME</code>:</p>
<h4 id="inline-arguments">inline arguments:</h4>
<p>As terminal app will do (--arg1 val1 --arg2 val2 ... --argN valN):</p>
<pre><code>- connector:            
      type: &quot;Html&quot;        
      arguments: &quot;--folder {$CURRENT_FOLDER_PATH} --file index.html&quot;    
</code></pre>
<h4 id="typed-arguments">typed arguments:</h4>
<p>Also, arguments can be defined using data types:</p>
<pre><code>- connector:            
      type: &quot;Html&quot;        
      arguments: 
        folder: &quot;{$CURRENT_FOLDER_PATH}&quot;
        file: &quot;index.html&quot;    
</code></pre>
<p>Notice than typed arrays are also supported, but all the items must be of the same type:</p>
<pre><code>- connector:            
      type: &quot;Demo&quot;        
      arguments: 
        arg1:
          - item: !!int 1
          - item: !!int 3
          - item: !!int 0
</code></pre>
<p>And also typed mappings are supported, but all the keys must be of the same type (not the values):</p>
<pre><code>- connector:            
      type: &quot;Demo&quot;        
      arguments: 
        arg1: 
          - item:
              key:   &quot;key1&quot;
              value: &quot;value1&quot;
          - item:
              key:   &quot;key2&quot;
              value: &quot;value2&quot;
          - item:
              key:   &quot;key3&quot;
              value: &quot;value3&quot;
</code></pre>
<h2 id="single-mode-execution">Single mode execution</h2>
<p>The main idea of a single-typed script is to use a generic template and set a single destination to run over it, it can be accomplished using inheritance and defining the target data at root level.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>inherits</td>
<td>text</td>
<td>no</td>
<td>Relative path to a YAML script file; any script can inherit from any other and overwrite whatever it needs.</td>
<td><code>&quot;NONE&quot;</code></td>
</tr>
<tr>
<td><a href="#single">single</a></td>
<td>mapping</td>
<td>no</td>
<td>Single mode definition.</td>
<td></td>
</tr>
</tbody>
</table>
<p>So running this script will load the template data (the inherited one) and will add (and override if needed) the single script data.</p>
<h3 id="single"> single</h3>
<p>Single mode definition.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>caption</td>
<td>text</td>
<td>no</td>
<td>Message to display before the single execution.</td>
<td><code>Running on single mode:</code></td>
</tr>
<tr>
<td><a href="#setup">setup</a></td>
<td>mapping</td>
<td>no</td>
<td>The defined content will be executed once before the copy_detector and any target's body.</td>
<td></td>
</tr>
<tr>
<td><a href="#teardown">teardown</a></td>
<td>mapping</td>
<td>no</td>
<td>The  defined content will be executed once after the copy_detector and all target's body.</td>
<td></td>
</tr>
<tr>
<td><a href="#local">local</a></td>
<td>mapping</td>
<td>yes (if no <code>remote</code> has been defined)</td>
<td>Local single target, so the script body will be executed over the local target.</td>
<td></td>
</tr>
<tr>
<td><a href="#remote">remote</a></td>
<td>mapping</td>
<td>yes (if no <code>local</code> has been defined)</td>
<td>Remote single target, so the script body will be executed over the remote target.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="batch-mode-execution">Batch mode execution</h2>
<p>The main idea of a batch-typed script is to iterate through a set of destinations and run a single-typed script over it, so inherits behaviour has been designed in order to allow the same code execution over a single target or a batch one just by adding this values at root level.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>inherits</td>
<td>text</td>
<td>no</td>
<td>Relative path to a YAML script file; any script can inherit from any other and overwrite whatever it needs.</td>
<td><code>&quot;NONE&quot;</code></td>
</tr>
<tr>
<td><a href="#batch">batch</a></td>
<td>sequence</td>
<td>no</td>
<td>Batch mode definition.</td>
<td></td>
</tr>
</tbody>
</table>
<p>Script definition can be defined here exactly as a single-typed script, however, inheriting from a single-typed script is strongly recommended.</p>
<p>Recommended structure:</p>
<ul>
    <li><i>main_script.yaml</i>: as neutral so no folder or batch definition
        <ul>
            <li><i>single_script.yaml</i>: inherits and defines 'single' property</li>
            <li><i>batch_script.yaml</i>: inherits and defines 'batch' property</li>
        </ul>
    </li>
</ul>
<h3 id="batch"> batch</h3>
<p>Batch mode definition.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>caption</td>
<td>text</td>
<td>no</td>
<td>Message to display before every batch execution.</td>
<td><code>&quot;Running on batch mode:&quot;</code></td>
</tr>
<tr>
<td>concurrent</td>
<td>integer</td>
<td>no</td>
<td>Maximum concurrent scripts execution (0 = MAX).</td>
<td><code>0</code></td>
</tr>
<tr>
<td><a href="#setup">setup</a></td>
<td>sequence</td>
<td>no</td>
<td>The defined content will be executed once before the copy_detector and any target's body.</td>
<td></td>
</tr>
<tr>
<td><a href="#teardown">teardown</a></td>
<td>sequence</td>
<td>no</td>
<td>The  defined content will be executed once after the copy_detector and all target's body.</td>
<td></td>
</tr>
<tr>
<td><a href="#pre">pre</a></td>
<td>sequence</td>
<td>no</td>
<td>The defined content will be executed once per batch target before each body.</td>
<td></td>
</tr>
<tr>
<td><a href="#post">post</a></td>
<td>sequence</td>
<td>no</td>
<td>The defined content will be executed once per batch target after each body.</td>
<td></td>
</tr>
<tr>
<td><a href="#copy_detector">copy_detector</a></td>
<td>mapping</td>
<td>no</td>
<td>Enables the copy detection logic, which will be executed before any body and after all pre executions.</td>
<td></td>
</tr>
<tr>
<td><a href="#local">local</a></td>
<td>sequence</td>
<td>yes (if no <code>remote</code> has been defined)</td>
<td>Local batch target, so each script body will be executed once per local target.</td>
<td></td>
</tr>
<tr>
<td><a href="#remote">remote</a></td>
<td>sequence</td>
<td>yes (if no <code>local</code> has been defined)</td>
<td>Remote batch target, so each script body will be executed once per remote target.</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="pre"> pre</h4>
<p>The defined content will be executed once per batch target before any target's body.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#vars">vars</a></td>
<td>mapping</td>
<td>no</td>
<td>Defines vars in the same way and with the same rules as the ones defined within root level, but as local-scope vars; useful to store command results or other stuff.</td>
</tr>
<tr>
<td><a href="#connector">connector</a></td>
<td>mapping</td>
<td>no</td>
<td>Defines a connector to use, it can be defined wherever inside the body (usually inside a question's content).</td>
</tr>
<tr>
<td><a href="#run">run</a></td>
<td>mapping</td>
<td>no</td>
<td>Runs a command, it can be used wherever inside the body (usually inside a question's content).</td>
</tr>
<tr>
<td>echo</td>
<td>text</td>
<td>no</td>
<td>Displays a message.</td>
</tr>
</tbody>
</table>
<h4 id="post"> post</h4>
<p>The  defined content will be executed once per batch target after all target's body.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#vars">vars</a></td>
<td>mapping</td>
<td>no</td>
<td>Defines vars in the same way and with the same rules as the ones defined within root level, but as local-scope vars; useful to store command results or other stuff.</td>
</tr>
<tr>
<td><a href="#connector">connector</a></td>
<td>mapping</td>
<td>no</td>
<td>Defines a connector to use, it can be defined wherever inside the body (usually inside a question's content).</td>
</tr>
<tr>
<td><a href="#run">run</a></td>
<td>mapping</td>
<td>no</td>
<td>Runs a command, it can be used wherever inside the body (usually inside a question's content).</td>
</tr>
<tr>
<td>echo</td>
<td>text</td>
<td>no</td>
<td>Displays a message.</td>
</tr>
</tbody>
</table>
<h4 id="copy_detector"> copy_detector</h4>
<p>Enables the copy detection logic, not supported for <code>host</code> targets (see avaliable copy detectors through API documentation). Just a single file per folder can be loaded into the copy detector engine, but this will be upgraded in a near future in order to allow multi-file support.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>text</td>
<td>yes</td>
<td>The type of copy detector to use (see avaliable copy detectors through API documentation).</td>
<td></td>
</tr>
<tr>
<td>file</td>
<td>text</td>
<td>no</td>
<td>Search patthern used to find files for extraction, OS file naming convetions allowed. The first file found using the search pattern will be loaded into the copy detector engine.</td>
<td><code>&quot;*&quot;</code></td>
</tr>
<tr>
<td>caption</td>
<td>text</td>
<td>no</td>
<td>Message displayed at output before every check.</td>
<td><code>&quot;Looking for potential copies within {$CURRENT_FOLDER_NAME}...&quot;</code></td>
</tr>
<tr>
<td>threshold</td>
<td>decimal</td>
<td>no</td>
<td>The copy threshold to use, so results exceeding this value will be considered as a pontential copy.</td>
<td><code>!!float 1 </code></td>
</tr>
</tbody>
</table>
<h4 id="local">local</h4>
<p>Local batch target, so each script body will be executed once per local target.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>folder</td>
<td>text</td>
<td>yes (if no <code>path</code> has been defined)</td>
<td>The script will be executed once for each local folder defined; the current folder can be requested through the script with <code>$CURRENT_FOLDER_PATH</code></td>
<td></td>
</tr>
<tr>
<td>path</td>
<td>text</td>
<td>yes (if no <code>folder</code> has been defined)</td>
<td>Only for batch mode exectution: the script will be executed once for each local folder contained within the defined path; the current folder can be requested through the script with <code>$CURRENT_FOLDER_PATH</code></td>
<td></td>
</tr>
<tr>
<td><a href="#vars">vars</a></td>
<td>mapping</td>
<td>no</td>
<td>Custom global vars can be defined here and refered later as <code>$VARNAME</code>.</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="remote">remote</h4>
<p>Remote batch target, so each script body will be executed once per remote target.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>os</td>
<td>[GNU; WIN; MAC]</td>
<td>no</td>
<td>The remote OS family</td>
<td><code>GNU</code></td>
</tr>
<tr>
<td>host</td>
<td>text</td>
<td>yes</td>
<td>The script will be executed once for each defined host address or name, be aware that <strong>defining a range of hosts is still not supported</strong>, but the <code>remote</code> block can be repeated if needed.</td>
<td></td>
</tr>
<tr>
<td>user</td>
<td>text</td>
<td>yes</td>
<td>The username used to connect with the remote host.</td>
<td></td>
</tr>
<tr>
<td>password</td>
<td>text</td>
<td>no</td>
<td>The password used to connect with the remote host.</td>
<td>(Blank password)</td>
</tr>
<tr>
<td>port</td>
<td>number</td>
<td>no</td>
<td>The remote SSH port used to connect with.</td>
<td>22</td>
</tr>
<tr>
<td>path</td>
<td>text</td>
<td>no</td>
<td>The script will be executed once for each folder contained within the defined remote path; the current folder can be requested through the script with <code>$CURRENT_FOLDER_PATH</code></td>
<td></td>
</tr>
<tr>
<td>folder</td>
<td>text</td>
<td>no</td>
<td>The script will be executed once for each remote folder defined; the current folder can be requested through the script with <code>$CURRENT_FOLDER_PATH</code></td>
<td></td>
</tr>
<tr>
<td><a href="#vars">vars</a></td>
<td>mapping</td>
<td>no</td>
<td>Custom global vars can be defined here and refered later as <code>$VARNAME</code>.</td>
<td></td>
</tr>
</tbody>
</table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/FherStk/AutoCheck/blob/master/docs/tutorials/teacher.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
